<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QtorchX Playground</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.min.js"></script>
   <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Top bar -->
  <div id="top-bar">
    <div class="logo">QtorchX Playground</div>
    <div class="top-actions">
      <button class="top-btn" onclick="window.location.href='playground.html'">Home</button>
      <button class="top-btn" onclick="window.open('https://github.com/notPhani/QTorch/blob/main/README.md', '_blank')">Docs</button>
      <button class="top-btn" onclick="window.open('https://github.com/notPhani/Glytch-2025-Submission-QtorchX', '_blank')">Github</button>
    </div>
    </div>
  </div>

  <div id="content">
    <!-- TOP: operations + circuit + meta -->
    <div id="main">
      <!-- Left panel: gate library -->
      <div id="left-panel">
        <div class="panel-title">Operations</div>

        <!-- Search -->
        <div id="gate-search-bar">
          <input id="gateSearch" type="text" placeholder="Search gates...">
        </div>

        <!-- Filters -->
        <div id="gate-filters">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="single">1‑Qubit</button>
          <button class="filter-btn" data-filter="multi">2‑Qubit</button>
          <button class="filter-btn" data-filter="measure">Measure</button>
        </div>

        <!-- Gate library -->
        <div id="gate-library">
          <!-- 1‑qubit Pauli / Clifford -->
          <button class="gate-btn" data-gate="I"    data-type="single">I</button>
          <button class="gate-btn" data-gate="X"    data-type="single">X</button>
          <button class="gate-btn" data-gate="Y"    data-type="single">Y</button>
          <button class="gate-btn" data-gate="Z"    data-type="single">Z</button>
          <button class="gate-btn" data-gate="H"    data-type="single">H</button>
          <button class="gate-btn" data-gate="S"    data-type="single">S</button>
          <button class="gate-btn" data-gate="SDG"  data-type="single">S†</button>
          <button class="gate-btn" data-gate="T"    data-type="single">T</button>
          <button class="gate-btn" data-gate="TDG"  data-type="single">T†</button>

          <!-- Rotations / param gates -->
          <button class="gate-btn" data-gate="RX"   data-type="single">RX</button>
          <button class="gate-btn" data-gate="RY"   data-type="single">RY</button>
          <button class="gate-btn" data-gate="RZ"   data-type="single">RZ</button>
          <button class="gate-btn" data-gate="U3"   data-type="single">U3</button>
          <button class="gate-btn" data-gate="SX"   data-type="single">√X</button>
          <button class="gate-btn" data-gate="SXDG" data-type="single">√X†</button>

          <!-- 2‑qubit entanglers -->
          <button class="gate-btn" data-gate="CNOT" data-type="multi">CNOT</button>
          <button class="gate-btn" data-gate="CZ"   data-type="multi">CZ</button>
          <button class="gate-btn" data-gate="SWAP" data-type="multi">SWAP</button>
          <button class="gate-btn" data-gate="CRX"  data-type="multi">CRX</button>
          <button class="gate-btn" data-gate="CRZ"  data-type="multi">CRZ</button>

          <!-- Measurement -->
          <button class="gate-btn" data-gate="M"    data-type="measure">M</button>
        </div>

        <div id="warning" style="margin-top:6px;font-size:11px;color:#f39c12;"></div>
      </div>

      <!-- Center panel: circuit grid -->
      <div id="center-panel">
        <div class="panel-header">
          <div class="panel-header-left">
            <span class="panel-title">Circuit</span>
            <span class="panel-subtitle">q[0..3], c[4]</span>
          </div>
          <!-- NEW CODE (Animated Toggles) -->
        <div class="panel-header-right">
          <label class="header-toggle">
            <input type="checkbox" id="noiseToggle">
            <span class="toggle-switch"></span>
            <span>Noise</span>
          </label>
          <label class="header-toggle">
            <input type="checkbox" id="persistToggle">
            <span class="toggle-switch"></span>
            <span>Persistent</span>
          </label>
          <label class="header-toggle">
            <input type="checkbox" id="inspectToggle">
            <span class="toggle-switch"></span>
            <span>Inspect</span>
          </label>
          <button id="runBtn" class="run-btn">Run</button>
        </div>
        </div>

        <div id="circuit-inner">
          <canvas id="circuitCanvas"></canvas>
        </div>
      </div>

      <!-- Right panel: meta / log -->
      <div id="right-panel">
        <div class="panel-header">
          <span class="panel-title">Meta / Log</span>
        </div>
        <textarea id="metaBox" spellcheck="false">
# Circuit limits:
# - Up to 4 qubits (q[0]..q[3])
# - Up to 15 gates (measurements auto-appended)
# - Use Noise toggle to enable Phi manifold
        </textarea>
      </div>
    </div>

    <!-- BOTTOM: histogram + Bloch -->
    <div id="bottom">
      <div id="bottom-left">
        <div class="panel-header">
          <span class="panel-title">Probabilities</span>
        </div>
        <canvas id="histCanvas" width="600" height="220"></canvas>
      </div>

      <div id="bottom-right">
        <div class="panel-header">
          <span class="panel-title">Bloch Sphere (q[0])</span>
        </div>
        <canvas id="blochCanvas" width="260" height="220"></canvas>
      </div>
    </div>
  </div>
  <div id="loadingOverlay" class="loading-overlay hidden">
  <div class="loading-container">
    <div class="loading-spinner-ring"></div>
    <div class="loading-message" id="loadingMessage">Initializing quantum simulator...</div>
  </div>
</div>

  <script src="./bloch_sphere.js"></script>
<script src="main.js"></script>


</body>
</html>
